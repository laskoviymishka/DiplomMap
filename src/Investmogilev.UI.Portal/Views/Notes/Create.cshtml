@model Investmogilev.Infrastructure.Common.Model.Project.ProjectNotes
@{
    ViewBag.Title = "Создание заметки";
}
<h2>
    Создание заметки
</h2>
<div>
    @Html.ActionLink("К всем заметкам", "All", null, new {@class = "icon-arrow-left-3 fg-darker button success"})
    @Html.ActionLink("К проекту", "Project", "BaseProject", new {Id = Model.ProjectId}, new {@class = "icon-arrow-down-3 fg-darker button success", style = "width:120px"})
</div>
<script src="~/Scripts/chosen.jquery.min.js"></script>
<link href="~/Content/chosen.min.css" rel="stylesheet" />
@using (Html.BeginForm())
{
    @Html.ValidationSummary(true)

    <fieldset>
        <legend>Заметка</legend>
        @Html.HiddenFor(model => model.ProjectId)
        @Html.HiddenFor(model => model._id)
        @Html.HiddenFor(model => model.CretorName)
        @Html.HiddenFor(model => model.CreatedTime)
        <small class="editor-label">
            @Html.LabelFor(model => model.NoteTitle)
        </small>
        <blockquote class="editor-field">
            @Html.EditorFor(model => model.NoteTitle)
            @Html.ValidationMessageFor(model => model.NoteTitle)
        </blockquote>
        <small class="editor-label">
            @Html.LabelFor(model => model.NoteBody)
        </small>
        <blockquote class="editor-field">
            @Html.TextAreaFor(model => model.NoteBody, new {@id = "editor"})
            @Html.ValidationMessageFor(model => model.NoteBody)
        </blockquote>
        <small class="editor-label">
            @Html.LabelFor(model => model.CretorName)
        </small>
        <blockquote class="editor-field">
            @Html.DisplayFor(model => model.CretorName)
        </blockquote>
        <small class="editor-label">
            @Html.LabelFor(model => model.CreatedTime)
        </small>
        <blockquote class="editor-field">
            @Html.DisplayFor(model => model.CreatedTime)
        </blockquote>
        <small class="editor-label">
            @Html.LabelFor(model => model.CretorName)
        </small>
        <blockquote class="editor-field">
            @Html.DisplayFor(model => model.CretorName)
        </blockquote>
        <small class="editor-label">
            @Html.LabelFor(model => model.RolesForView)
        </small>
        <blockquote class="editor-field">
            @Html.ListBoxFor(model => model.RolesForView, new SelectList(new List<string> {"Admin", "User", "Investor"}), new {id = "cznTags"})
            @Html.ValidationMessageFor(model => model.RolesForView)
        </blockquote>
        <small class="display-label">
            @Html.DisplayNameFor(model => model.ProjectId)
        </small>
        <blockquote class="display-field">
            @Html.ActionLink("К проекту", "Project", "BaseProject", new {Id = Model.ProjectId}, new {@class = "button info", style = "width:100px"})
        </blockquote>
        <hr />
        <p>
            <input type="submit" value="Создать" />
        </p>
    </fieldset>
}
<small class="editor-label">
    Приложения
</small>
<hr />
@Html.Action("CreateNoteAdditional", "AdditionalInfo", new {noteId = Model._id})
<script>
    $(document).ready(function() { $("#editor").cleditor(); });
</script>
<script type="text/javascript">
    //<![CDATA[
    $("#cznTags").chosen();
    $('.chosen-container').css('width', '260px');
    //]]>
</script>