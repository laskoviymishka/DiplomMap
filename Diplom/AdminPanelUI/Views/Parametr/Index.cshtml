@model IEnumerable<DataAccess.Model.Parametr>

@{
	ViewBag.Title = "Index";
}

<h2>Список всех параметров</h2>

<p>
	@Html.ActionLink("Create New", "Create")
</p>
<table class="table table-striped table-condensed">
	<tr>
		<th>
			@Html.DisplayNameFor(model => model.Name)
		</th>
		<th>
			@Html.DisplayNameFor(model => model.Description)
		</th>
		<th>
			@Html.DisplayNameFor(model => model.AgregateParametr1.Description)
		</th>
		<th></th>
	</tr>
	@foreach (var item in Model)
	{
		foreach (DataAccess.Model.AgregateParametr param in (IEnumerable<DataAccess.Model.AgregateParametr>)ViewData["Parametrs"])
		{
			if (param == item.AgregateParametr1)
			{
				<tr>
					<td>
						@Html.DisplayFor(modelItem => item.Name)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.Description)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.AgregateParametr1.Name)
					</td>
					<td>
						@Html.ActionLink("Edit", "Edit", new { id = item.Name }) |
						@Html.ActionLink("Details", "Details", new { id = item.Name }) |
						@Html.ActionLink("Delete", "Delete", new { id = item.Name })
					</td>
				</tr>
			}
		}
	}

</table>
