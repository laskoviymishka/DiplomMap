@model MongoRepository.Model.EditParametrViewModel
@{
    var guid = new Guid();
}
<p>@Model.ParametrName</p>
<div>
    @using (Ajax.BeginForm(null, null, new AjaxOptions { HttpMethod = "POST" }, new { id = guid.ToString() }))
    {
        @Html.AntiForgeryToken()
        @Html.ValidationSummary(true)
        @Html.HiddenFor(model => model.ParametrName)
        @Html.HiddenFor(model => model.RegionId)
        <fieldset>
            <table class="table table-striped table-condensed">
                <tr>
                    <th>Год
                    </th>
                    <th>Значение
                    </th>
                </tr>

                @for (int i = 0; i < Model.Values.Count(); i++)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => Model.Values.ToArray()[i].Key)
                        </td>

                        <td>
                            @Html.EditorFor(modelItem => Model.Values.ToArray()[i].Value)
                        </td>
                    </tr>
                }
            </table>
            <p>
                <input type="submit" value="Save" />
                <button class="btn" onclick="post()">Сохранить</button>
            </p>
        </fieldset>
    }
</div>
<script type="text/javascript">
    post = function () {
        var id = '#' + @guid.ToString()
        $(id).live('submit', function () {
            alert('asd')
        });
        return false;
    }
</script>
